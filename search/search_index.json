{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Donovan Calderon Contribution to  Temperature Equalizing Blinds for  Team 105  <p>Submission: 10/27/2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>As a member of Team 105, my responsibility was to ensure everyone stayed on track to meet our project deadlines. While my main subsystem was the automated light sensor, I also supported my teammates with the development of their parts of the project. Managing the schedule meant making tough calls on priorities, and though some deadlines shifted, I am proud of our final result. This record outlines my contributions to the electrical setup and performance that made the project a success.</p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>The subsystem is designed to trigger a mode change by detecting a specified light threshold using a photoresistor. Once triggered, it sends a signal to my teammate Keith\u2019s subsystem for further action. For an overview of the main components, refer to the Block Diagram. The system uses a PIC18F57Q43 microcontroller (MCU) and a photoresistor to sense changes in ambient light intensity. It converts the photoresistor\u2019s analog signal into a digital reading for processing. A key feature is its adjustable sensitivity, which allows calibration for different environments. By continuously monitoring brightness, the system helps regulate room temperature\u2014for example, reducing heating when sunlight is sufficient. This automation removes the need for manual adjustment, improving both energy efficiency and occupant comfort.</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>My contributions extended beyond the outlined scope of the light sensor and team coordination. I actively participated in the development of all subsystems by ensuring proper builds, debugging hardware issues, and revising schematics to ensure wiring matched component datasheets. I also assisted with coding across other subsystems. This comprehensive involvement was crucial for tying the different parts of the project together, ensuring clear signals and smooth overall system operation. Stepping into various roles significantly helped my growth as an engineer. Troubleshooting hardware developed my problem-solving skills, and working across different subsystems and their code gave me an understanding of how systems integrate in a real project.</p>","tags":["tag1","tag2"]},{"location":"#team-contribution","title":"Team Contribution","text":"<ul> <li>EGR304 Team 105 Report \u2013 Product Requirements</li> <li>EGR304 Team 105 \u2013 User Needs and Benchmarking</li> </ul>","tags":["tag1","tag2"]},{"location":"#individual-contribution","title":"Individual Contribution","text":"<ul> <li>To review the details and relationships between the system\u2019s components, refer to the Block Diagram section of the datasheet.</li> <li>To review the system\u2019s components, refer to the Component Selection.</li> <li>To review power distribution, refer to the Power Budget.</li> <li>To review the layout of the individual subsystem, refer to the Schematic.</li> <li>To review the cost of components in the subsystem, refer to the Bill of Materials.</li> </ul>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individal Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#system-overview","title":"System Overview","text":"<p>This document describes a structured embedded system for ambient light sensing, signal conditioning, and digital processing. The architecture progresses from regulated power input through analog detection to microcontroller-based data  output, as detailed in the following subsystem breakdown (Sections 1\u20135).</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#design-specifications","title":"Design Specifications","text":"<p>Following the system design suggestions, the  block diagram includes annotations for the signal gain at each stage. These gain values are calculated based on a 5V input, with the calibration potentiometer set to a resistance of 9.45 k\u03a9.</p> <ol> <li>Power Regulation </li> <li> <p>A voltage regulator produces a stable 5 V power supply that runs all components in the system.</p> </li> <li> <p>Light Detection </p> </li> <li> <p>A CDS photoresistor changes its resistance (through the use of a potentiometer) based on how much light is present. This creates an analog voltage that represents light intensity.</p> </li> <li> <p>Signal Conditioning </p> </li> <li> <p>An operational amplifier (op-amp) takes this analog signal and adjusts it so it can be accurately read by the microcontroller.</p> </li> <li> <p>Microcontroller Processing    A PIC18F57Q43 Curiosity Nano board:</p> </li> <li>Reads the analog light signal through its ADC (Analog-to-Digital Converter)  </li> <li>Uses digital pins to control a debug LED  </li> <li>Reads a debug button for testing or mode changes  </li> <li>Sends the processed signals out through an 8-pin connector for use by other systems</li> </ol> <p></p>","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":""},{"location":"02-Component-Selection/Component-Selection/#component-selection-overview","title":"Component Selection Overview","text":"<p>On this page, I outline my decision-making process for selecting the core hardware in my light-sensing blinds controller. I chose three main components:</p> <ul> <li> <p>PDV\u2011P8103 Photoresistor \u2013 to sense ambient light levels</p> </li> <li> <p>MCP6004\u2011I/P Op\u2011Amp \u2013 to amplify the sensor\u2019s weak signal</p> </li> <li> <p>PIC18F57Q43 Microcontroller \u2013 to process readings and control the blinds</p> </li> </ul> <p>I evaluated each part based on cost, ease of use, and my prior hands\u2011on experience from classroom labs. For  every option, I included product specs, images, purchase links, and pros/cons tables. My final selections  prioritize reliability, affordability, and seamless integration\u2014helping me stay on budget while building a  system I know how to troubleshoot.</p> <p>This page also shows the final pin mappings and explains how each component fits into the overall signal  chain.</p>"},{"location":"02-Component-Selection/Component-Selection/#1-light-sensor-selection","title":"1. Light Sensor Selection","text":""},{"location":"02-Component-Selection/Component-Selection/#options-considered","title":"Options Considered:","text":"<p>Option 1: PDV-P8103 CDS Photoresistor (16-33K\u03a9) </p> <ul> <li>Price: $0.70/unit</li> <li>Link: DigiKey Product Page</li> </ul> Pros Cons Inexpensive Slow shipping Compatible with PSoC Shipping fee Easy to install <p>Option 2: VEMD2023X01 Photodiode </p> <ul> <li>Price: $0.90/unit</li> <li>Link: DigiKey Product Page</li> </ul> Pros Cons Small and compact More expensive High reverse voltage Slow shipping Sensitive to high temperatures Requires amplifier Surface mount (SMD) <p>Option 3: BPW34 Photodiode </p> <ul> <li>Price: $1.14/unit</li> <li>Link: DigiKey Product Page</li> </ul> Pros Cons High temperature tolerance Low reverse voltage Accurate readings Slow shipping Tariff for US shipping"},{"location":"02-Component-Selection/Component-Selection/#selected-pdv-p8103-cds-photoresistor","title":"Selected: PDV-P8103 CDS Photoresistor","text":"<p>Rationale: Provides reliable light-to-electrical signal conversion needed for detecting ambient light levels. Its output signal corresponds directly to light intensity, enabling the system to adjust blinds based on environmental  conditions. The photoresistor's simplicity and compatibility with our existing PSoC architecture make it ideal for this application, and an amplifier can be added if needed to strengthen the signal for motor control.</p>"},{"location":"02-Component-Selection/Component-Selection/#2-operational-amplifier-selection","title":"2. Operational Amplifier Selection","text":""},{"location":"02-Component-Selection/Component-Selection/#options-considered_1","title":"Options Considered:","text":"<p>Option 1: MCP6004-I/P (14-DIP) </p> <ul> <li>Price: $0.59/unit</li> <li>Link: DigiKey Product Page</li> </ul> Pros Cons Prior experience Shipping delays Easy installation Risk of burnout Low cost Fragile pins Four independent circuits <p>Option 2: MCP6004-E/P (14-DIP) </p> <ul> <li>Price: $0.65/unit</li> <li>Link: DigiKey Product Page</li> </ul> Pros Cons Identical to MCP6004-I/P Shipping delays Prior experience Risk of burnout Easy installation Heat sensitivity Low cost Fragile pins <p>Option 3: LMC6484IN/NOPB (14-DIP) </p> <ul> <li>Price: $3.64/unit</li> <li>Link: DigiKey Product Page</li> </ul> Pros Cons Compact design Higher cost Fewer circuits needed Slow shipping Battery system compatible"},{"location":"02-Component-Selection/Component-Selection/#selected-mcp6004-ip","title":"Selected: MCP6004-I/P","text":"<p>Rationale: This op-amp provides straightforward amplification of the photoresistor's output voltage  without requiring complex external circuitry. By amplifying the signal difference, the microcontroller can  accurately detect light level changes and trigger appropriate blind positioning. Our prior classroom  experience with this component reduces implementation risk and accelerates development.</p>"},{"location":"02-Component-Selection/Component-Selection/#final-component-selection-summary","title":"Final Component Selection Summary","text":"Component Category Selected Part Manufacturer Key Specifications Unit Price Justification Light Sensor PDV-P8103 CDS Photoresistor Advanced Photonix 16\u201333 k\u03a9 range, through-hole $0.70 Inexpensive, class-proven, PSoC compatible, easy installation Operational Amplifier MCP6004-I/P Microchip Technology Quad op-amp, rail-to-rail, 14-DIP $0.59 Low-cost, familiar from labs, four circuits, simple interface Microcontroller PIC18F57Q43 Microchip Technology 8-bit, integrated ADC, 64-pin TQFP \u2014 Provided in-class, capable ADC, familiar development tools"},{"location":"02-Component-Selection/Component-Selection/#selection-rationale-summary","title":"Selection Rationale Summary","text":""},{"location":"02-Component-Selection/Component-Selection/#photoresistor-pdv-p8103","title":"Photoresistor (PDV-P8103)","text":"<ul> <li>Reliable light sensing with variable resistance output</li> <li>Coursework experience reduces learning curve and build time</li> <li>Cost-effectivem $0.70 per unit with through-hole mounting</li> <li>Direct light-to-voltage conversion </li> </ul>"},{"location":"02-Component-Selection/Component-Selection/#op-amp-mcp6004-ip","title":"Op-Amp (MCP6004-I/P)","text":"<ul> <li>Amplifies small photoresistor signals for robust ADC conversion</li> <li>Rail-to-rail operation ensures full signal swing at low voltages</li> <li>Classroom experience provides confidence in using op-amp</li> </ul>"},{"location":"02-Component-Selection/Component-Selection/#microcontroller-pic18f57q43","title":"Microcontroller (PIC18F57Q43)","text":"<ul> <li>Integrated 12-bit ADC directly reads amplified sensor signals</li> <li>Sufficient I/O for sensor interface, debug controls, and external communication</li> <li>Supported by in-class use.</li> </ul>"},{"location":"02-Component-Selection/Component-Selection/#pin-configuration","title":"Pin Configuration","text":"Location Pin Name Function Direction Custom Name Analog Pull-Up RA0 ADC Analog Input input PHOTORESISTOR_IN yes no RA2 GPIO Digital Output output DIGITAL_TO_KEITH no no RD1 GPIO LED Output output DEBUG_LED no no RD2 GPIO Button Input input DEBUG_BUTTON no yes"},{"location":"02-Component-Selection/Component-Selection/#system-benefits","title":"System Benefits","text":"<ol> <li>Reduced Development Risk: Components validated in previous lab sessions</li> <li>Cost Efficiency: Active component cost under $2.00 per unit (excluding microcontroller)</li> <li>Design Continuity: Familiar components accelerate prototyping and debugging</li> </ol>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>The Light Sensor Subsystem BOM lists all components required for prototyping and production, including passive elements (resistors, capacitors), active devices (PIC18F57Q43, MCP6004, photoresistor), and necessary connectors. Each entry specifies quantity, cost, manufacturer, and sourcing links, with designators mapping components to the schematic. Additional hardware such as switches, LEDs, and test points supports safe operation, testing, and integration. Overall, the BOM ensures efficient assembly and transition from prototype to production.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials-as-image","title":"Bill of Materials (as Image)","text":"<p>Figure 1: Example Bill of Materials as a screenshot.</p>","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic supports overall system functionality by integrating power regulation, light sensing, and control operations. Ambient light intensity is detected by a photoresistor, with the resulting small analog voltage amplified by a  non\u2011inverting op\u2011amp stage using the MCP6004. Any unused op\u2011amp pins are properly terminated\u2014pulled to power through a resistor or grounded\u2014to ensure stable operation. The amplified signal is conditioned by an ADC driver and then enters the PIC18F57Q43 microcontroller on pin RA0 for analog-to-digital conversion. After processing the light data, the microcontroller outputs the control signal from pin RA2.  This output is sent to an external subsystem via an 8\u2011pin shared connector, where pin\u202f7 provides power and pin\u202f8 serves as ground.A debug section with an LED and tactile button enables manual state changes for functional testing. The power  regulation section supplies clean, stable voltage rails for reliable operation of all analog and digital circuitry.</p> <p></p> <p>**Figure 1: Shows Schematic</p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here,  and the Zip folder of the project here</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>For our Electric Blinds project, we created a power budget to understand and manage how much electrical power our system requires. The power budget helps ensure that all components, including the microcontroller, light sensor, and operational amplifier, receive adequate power without exceeding the system\u2019s supply limits.</p> <p>By listing each component\u2019s voltage and current requirements, we were able to calculate the total power needed for the system and confirm that our chosen power source and voltage regulators can handle the load safely. This step is essential for preventing power shortages, overheating, or component damage.</p> <p>Creating a detailed power budget also helps improve the efficiency and reliability of our design. It ensures the automatic blinds system operates smoothly as it detects light levels and adjusts to maintain indoor comfort\u2014without wasting energy or overloading the circuit.</p> <p></p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>The power budget verifies that the light-detection subsystem that includes the 5 V regulator, CDS photoresistor with potentiometer, op-amp conditioning stage, and the Curiosity Nano microcontroller\u2014operates well within the system\u2019s power limits as shown in the image of the BOM. By reviewing each component\u2019s voltage and current requirements, we confirmed the circuit can reliably sense ambient light, condition the signal for accurate ADC readings, and process it without risking overload or instability. This ensures the subsystem remains efficient, stable, and ready for integration into the larger project.</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"06-PCB/pcb/","title":"PCB","text":""},{"location":"06-PCB/pcb/#overview","title":"OverView","text":"<p>The PCB supports the system\u2019s electronic functionality by hosting the primary components, routing power, and managing signal pathways. The front side contains the microcontroller, voltage regulation circuitry, connectors, and sensor interfaces, with copper traces distributing power and signals and silkscreen labels aiding assembly. The back side provides additional routing and grounding to reduce noise and maintain signal integrity, with minimal components to ensure clarity and reliable operation. Both layers work together to support stable power delivery, accurate signal processing, and overall system performance.</p>"},{"location":"06-PCB/pcb/#front-pcb","title":"Front PCB","text":"<ul> <li>The front side of the PCB hosts the primary components, including the microcontroller, voltage regulators, connectors, and sensors. Copper traces distribute power and signals across the board, while silkscreen labels assist with clear identification and assembly. This layer serves as the main interface for system control, power regulation, and signal processing. </li> </ul>"},{"location":"06-PCB/pcb/#back-pcb","title":"Back PCB","text":"<ul> <li>The back side of the PCB provides supporting routing, ground planes, and additional electrical connections that enhance signal integrity and noise reduction. Minimal components are placed on this layer to maintain clarity and ensure reliable operation, with through-hole pads and vias connecting the circuitry between layers for stable system performance. </li> </ul>"},{"location":"06-PCB/pcb/#3d-rendered-images-of-pcb","title":"3D Rendered Images of PCB","text":"<p>Here are rendered images of the PCB, * The first view consists of the front view :  </p> <p>*as well as the back view: </p> <p>The Front and the Back of the PCB as a PDF download is available here Back, Front and the Zip folder of the project here, the following file is a DFM Checker ensuring manufacturability DFM</p>"},{"location":"07-Micro-Controller%20Code/microcontrollercode/","title":"Micro-Controller Code: LIGHTSENSOR","text":""},{"location":"07-Micro-Controller%20Code/microcontrollercode/#micro-controller-code-lightsensor","title":"Micro-Controller Code: LIGHTSENSOR","text":""},{"location":"07-Micro-Controller%20Code/microcontrollercode/#overview","title":"Overview","text":"<p>This embedded C program implements the core logic for a light-sensitive blinds control system on a PIC18F57Q43 microcontroller. It continuously reads analog voltage from a photoresistor, compares the value against a preset threshold, and sends a corresponding digital signal to an external motor controller. The firmware supports both automatic light-based operation and a manual debug mode\u2014toggled by a tactile button\u2014with visual feedback provided through an LED. Designed for reliability and real-time responsiveness, the code integrates ADC readings, state management, and heartbeat monitoring within a simple, maintainable loop. For futher details refer to the Resources page. </p><pre><code>/*\n * MAIN Generated Driver File\n * \n * @file main.c\n * \n * @defgroup main MAIN\n * \n * @brief This is the generated driver implementation file for the MAIN driver.\n *\n * @version MAIN Driver Version 1.0.2\n *\n * @version Package Version: 3.1.2\n*/\n\n/*\n\u00a9 [2025] Microchip Technology Inc. and its subsidiaries.\n\n    Subject to your compliance with these terms, you may use Microchip \n    software and any derivatives exclusively with Microchip products. \n    You are responsible for complying with 3rd party license terms  \n    applicable to your use of 3rd party software (including open source  \n    software) that may accompany Microchip software. SOFTWARE IS ?AS IS.? \n    NO WARRANTIES, WHETHER EXPRESS, IMPLIED OR STATUTORY, APPLY TO THIS \n    SOFTWARE, INCLUDING ANY IMPLIED WARRANTIES OF NON-INFRINGEMENT,  \n    MERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT \n    WILL MICROCHIP BE LIABLE FOR ANY INDIRECT, SPECIAL, PUNITIVE, \n    INCIDENTAL OR CONSEQUENTIAL LOSS, DAMAGE, COST OR EXPENSE OF ANY \n    KIND WHATSOEVER RELATED TO THE SOFTWARE, HOWEVER CAUSED, EVEN IF \n    MICROCHIP HAS BEEN ADVISED OF THE POSSIBILITY OR THE DAMAGES ARE \n    FORESEEABLE. TO THE FULLEST EXTENT ALLOWED BY LAW, MICROCHIP?S \n    TOTAL LIABILITY ON ALL CLAIMS RELATED TO THE SOFTWARE WILL NOT \n    EXCEED AMOUNT OF FEES, IF ANY, YOU PAID DIRECTLY TO MICROCHIP FOR \n    THIS SOFTWARE.\n*/\n#include \"mcc_generated_files/system/system.h\"\n#include \"mcc_generated_files/adc/adc.h\"\n#include &lt;stdint.h&gt;\n#include &lt;stdbool.h&gt;\n\n// ===================== CONSTANTS =====================\n#define VREF 5.0f\n#define PHOTORESISTOR_THRESHOLD_V 2.5f\n#define ADC_MAX_COUNTS 4095\n\n#define ADC_THRESHOLD   (uint16_t)((PHOTORESISTOR_THRESHOLD_V / VREF) * ADC_MAX_COUNTS)\n\n// ===================== GLOBALS =====================\nvolatile uint16_t adcValue = 0;\nvolatile bool lightDetected = false;\nvolatile bool debugMode = false;\n\n// ===================== LED CONTROL =====================\nvoid SetDebugLED(bool on) {\n    if(on) DEBUG_LED_SetHigh();\n    else   DEBUG_LED_SetLow();\n}\n\nvoid FlashLEDPattern(uint8_t count) {\n    for(uint8_t i = 0; i &lt; count; i++) {\n        SetDebugLED(true);\n        __delay_ms(150);\n        SetDebugLED(false);\n        __delay_ms(150);\n    }\n}\n\nvoid IndicateStateChange(bool state) {\n    FlashLEDPattern(state ? 1 : 2);\n    SetDebugLED(state);\n}\n\n// ===================== OUTPUT TO KEITH =====================\nvoid SignalKeith(bool active) {\n    if(active) {\n        DIGITAL_TO_KEITH_SetHigh();\n        SetDebugLED(true);\n    } else {\n        DIGITAL_TO_KEITH_SetLow();\n        SetDebugLED(false);\n    }\n}\n\n// ===================== BUTTON DEBUG MODE =====================\nvoid HandleDebugButton(void) {\n    static bool last = false;\n    bool current = DEBUG_BUTTON_GetValue();\n\n    if(current &amp;&amp; !last) {\n        debugMode = !debugMode;\n\n        FlashLEDPattern(3);   // Indicate debug toggle\n\n        lightDetected = !lightDetected;\n        SignalKeith(lightDetected);\n        IndicateStateChange(lightDetected);\n    }\n\n    last = current;\n}\n\n// ===================== AUTO LOGIC =====================\nvoid UpdateSystemStatus(void) {\n    bool lightNow = (adcValue &gt; ADC_THRESHOLD);\n\n    if(!debugMode &amp;&amp; lightNow != lightDetected) {\n        lightDetected = lightNow;\n        SignalKeith(lightDetected);\n        IndicateStateChange(lightDetected);\n    }\n}\n\n// ===================== MAIN =====================\nint main(void) {\n\n    SYSTEM_Initialize();\n    ADC_Initialize();\n\n    FlashLEDPattern(5);   // Boot indicator\n\n    lightDetected = false;\n    SignalKeith(false);\n\n    while(1) {\n\n        HandleDebugButton();\n\n        // Read the photoresistor from RA0\n        ADC_ChannelSelect(PHOTORESISTOR_IN);\n        ADC_ConversionStart();\n        while(!ADC_IsConversionDone());\n        adcValue = ADC_ConversionResultGet();     // ? correct API\n\n        UpdateSystemStatus();\n\n        // Heartbeat\n        static uint32_t hb = 0;\n        if(hb++ &gt;= 5000) {\n            bool cur = DEBUG_LED_GetValue();\n            SetDebugLED(!cur);\n            __delay_ms(50);\n            SetDebugLED(cur);\n            hb = 0;\n        }\n\n        __delay_ms(1);\n    }\n\n    return 0;\n}\n</code></pre><p></p>"},{"location":"08-Resources/resources/","title":"MPLab Project Documentation - LIGHTSENSOR","text":""},{"location":"08-Resources/resources/#mplab-project-documentation-lightsensor","title":"MPLab Project Documentation - LIGHTSENSOR","text":""},{"location":"08-Resources/resources/#1-project-overview-objectives-lightsensor","title":"1. Project Overview &amp; Objectives - LIGHTSENSOR","text":"<p>Objective: This document details the implementation of the Light Sensor Subsystem (LIGHTSENSOR) using a PIC18F57Q43 microcontroller. This subsystem detects ambient light and communicates with Keith Payne's subsystem via a digital output.</p> <p>Software Concept: - Light ON \u2192 Send HIGH signal to Keith - Light OFF \u2192 Send LOW signal to Keith</p>"},{"location":"08-Resources/resources/#2-mcc-configuration-summary-lightsensor","title":"2. MCC Configuration Summary - LIGHTSENSOR","text":"<p>Drivers Configuration: - ADC Driver: Enabled (only driver used in this project)</p> <p>Pin Configuration with Custom Names:</p> Location Pin Name Function Direction Custom Name Analog Pull-Up RA0 ADC Analog Input input PHOTORESISTOR_IN yes no RA2 GPIO Digital Output output DIGITAL_TO_KEITH no no RD1 GPIO LED Output output DEBUG_LED no no RD2 GPIO Button Input input DEBUG_BUTTON no yes"},{"location":"08-Resources/resources/#3-software-architecture-lightsensor","title":"3. Software Architecture \u2013 LIGHTSENSOR","text":"<p>#### 3.1 Control Logic  - Read PHOTORESISTOR_IN (RA0)  - Compare ADC value to Threshold  -  If ADC &gt; Threshold  - <code>DIGITAL_TO_KEITH = HIGH</code>  - <code>DEBUG_LED = ON</code>  -  Else- <code>DIGITAL_TO_KEITH = LOW</code>  - <code>DEBUG_LED = OFF</code>  - Check DEBUG_BUTTON (RD2)  - Toggle <code>debugMode</code>  - Force state updates when presse</p>"},{"location":"08-Resources/resources/#4-complete-code-implementation-lightsensor","title":"4. Complete Code Implementation - LIGHTSENSOR","text":"<p>The full code for LIGHTSENSOR is included in <code>LightSensor.c</code>. It initializes the ADC, reads the photoresistor, manages debug mode, and toggles outputs.</p>"},{"location":"08-Resources/resources/#5-testing-validation-lightsensor","title":"5. Testing &amp; Validation - LIGHTSENSOR","text":"<p>5.1 Sensor Testing: - Cover/uncover photoresistor to trigger state changes - Confirm DIGITAL_TO_KEITH output reflects light detection - DEBUG_LED shows correct state</p> <p>5.2 Debug Testing: - Press DEBUG_BUTTON to toggle manual mode - LED flashes indicate debug toggle - Forced state changes reflected in output</p>"},{"location":"08-Resources/resources/#6-system-specifications-lightsensor","title":"6. System Specifications - LIGHTSENSOR","text":"<ul> <li>Operating Voltage: 5V DC  </li> <li>ADC Resolution: 12-bit (0\u20134095)  </li> <li>Light Threshold: 2.5V  </li> <li>Input: PHOTORESISTOR_IN (RA0)  </li> <li>Output: DIGITAL_TO_KEITH (RA2)  </li> <li>Status LED: DEBUG_LED (RD1)  </li> <li>Control Button: DEBUG_BUTTON (RD2)  </li> </ul> <p>DOCUMENT VERSION: LIGHTSENSOR - FINAL STATUS: PRODUCTION READY</p> <p>Below is the file for entire project Light-Subsystem</p>"},{"location":"09-Hardware%20V.2/version2/","title":"Hardware Design Version 2: Improvement Analysis","text":""},{"location":"09-Hardware%20V.2/version2/#hardware-design-version-2-improvement-analysis","title":"Hardware Design Version 2: Improvement Analysis","text":""},{"location":"09-Hardware%20V.2/version2/#page-overview","title":"Page Overview","text":"<p>This section evaluates potential enhancements for the next iteration of our light-sensing blinds controller.  Based on hands\u2011on experience with the current schematic\u2014which successfully integrates power regulation,  photoresistor sensing, PIC18F57Q43 processing, and a debug interface\u2014we identify several key areas where the  hardware could be made more robust, and efficient.</p> <p>My focuses on the modifications would improve system robustness, efficiency, and production readiness  while preserving the proven core objective of the subsytem. Each proposed change targets certain  limitations observed during prototype testing, these solution will try in balancing better performance with  reasonable implementation complexity and cost.</p>"},{"location":"09-Hardware%20V.2/version2/#summary-of-proposed-changes","title":"Summary of Proposed Changes","text":""},{"location":"09-Hardware%20V.2/version2/#1-power-supply-enhancement","title":"1. Power Supply Enhancement","text":"<p>Current Approach: Linear voltage regulator Proposed Change: Switching regulator (buck converter) Rationale: The current linear regulator wastes significant power as heat when converting higher input  voltages. A switching regulator would improve efficiency from approximately 60% to 90%, reducing thermal  stress and extending battery life in portable applications.</p>"},{"location":"09-Hardware%20V.2/version2/#2-signal-chain-optimization","title":"2. Signal Chain Optimization","text":"<p>Current Approach: Non-inverting amplifier Proposed Change: Digitally-controlled gain stage using digital potentiometer Rationale: The photoresistor's logarithmic response requires different amplification across lighting  conditions. Programmable gain allows field calibration and adaptive sensitivity without component changes.</p>"},{"location":"09-Hardware%20V.2/version2/#3-output-protection","title":"3. Output Protection","text":"<p>Current Approach: Direct microcontroller pin to external subsystem Proposed Change: Optocoupler isolation with TVS diode protection Rationale: Motor-driven blinds can generate voltage spikes and back-EMF. Isolation protects the  microcontroller from electrical transients, increasing system reliability in real-world installations.</p>"},{"location":"09-Hardware%20V.2/version2/#4-diagnostic-capabilities","title":"4. Diagnostic Capabilities","text":"<p>Current Approach: Basic LED and tactile button Proposed Change: UART serial interface with USB connectivity Rationale: While the current debug interface provides basic functionality, a serial interface would  enable detailed data logging, remote configuration, and firmware updates without physical access to the  programming header.</p>"},{"location":"09-Hardware%20V.2/version2/#5-sensor-system-upgrade","title":"5. Sensor System Upgrade","text":"<p>Current Approach: Single PDV-P8103 photoresistor Proposed Change: Hybrid sensor array with photodiode for fast response Rationale: Photoresistors have relatively slow response times (milliseconds). Adding a photodiode  enables detection of rapid light changes, while maintaining the photoresistor for overall ambient light  measurement.</p>"},{"location":"09-Hardware%20V.2/version2/#technical-considerations","title":"Technical Considerations","text":""},{"location":"09-Hardware%20V.2/version2/#cost-implications","title":"Cost Implications","text":"<p>Total estimated BOM increase: $5-8 per unit - Offset by reduced warranty/field service costs - Justified by improved performance and reliability - Potential for lower power supply costs (smaller batteries/adapters)</p>"},{"location":"09-Hardware%20V.2/version2/#design-trade-offs","title":"Design Trade-offs","text":"<ol> <li>Complexity vs. Reliability: Increased component count improves robustness</li> <li>Cost vs. Features: Premium features optional for basic models</li> <li>Size vs. Functionality: Slightly larger board for enhanced capabilities</li> </ol>"},{"location":"09-Hardware%20V.2/version2/#related-documentation","title":"Related Documentation","text":"<ul> <li>Current Schematic</li> <li>Component Selection Analysis</li> <li>Firmware Implementation</li> </ul>"}]}